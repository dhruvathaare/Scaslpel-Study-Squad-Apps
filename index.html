<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalpel Study Squad</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #0e1621; color: white; text-align: center; padding: 30px 20px; }
        .card { background: #17212b; border-radius: 20px; padding: 30px; border: 1px solid #2b5278; box-shadow: 0 8px 24px rgba(0,0,0,0.5); }
        .logo { width: 100px; height: 100px; border-radius: 50%; border: 3px solid #5288c1; margin-bottom: 15px; object-fit: cover; }
        h1 { color: #5288c1; margin: 10px 0; font-size: 22px; }
        p { color: #b1c3d5; font-size: 14px; margin-bottom: 25px; }
        .btn { background: #2481cc; color: white; border: none; padding: 16px; border-radius: 12px; font-weight: bold; font-size: 16px; cursor: pointer; width: 100%; transition: background 0.2s; }
        .btn:active { background: #1c66a0; }
        .footer { margin-top: 25px; color: #ef5350; font-size: 12px; font-weight: bold; line-height: 1.5; }
    </style>
</head>
<body>
    <div class="card">
        <img src="https://github.com/dhruvathaare/Scaslpel-Study-Squad-Apps/blob/main/photo_2026-02-12_20-08-36.jpg?raw=true" class="logo" alt="Scalpel Study Squad">
        
        <h1>Scalpel Study Squad</h1>
        <p>Your portal to elite medical preparation.</p>
        
        <button id="mainButton" class="btn">Generate Entrance Link</button>
        
        <div class="footer">⚠️ EXCLUSIVE LINK <br> Valid for 2 minutes • Only 1 person</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        const botToken = "8026430979:AAFY3pQX0FkRxRL_xjihcFZWfrBZLVP-JG8";
        const chatId = "-1002547958063";

        document.getElementById('mainButton').onclick = async () => {
            const expireDate = Math.floor(Date.now() / 1000) + 120; // 2 mins

            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/createChatInviteLink`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: chatId,
                        expire_date: expireDate,
                        member_limit: 1
                    })
                });
                const data = await response.json();
                if (data.result && data.result.invite_link) {
                    tg.openTelegramLink(data.result.invite_link);
                    setTimeout(() => { tg.close(); }, 3000);
                } else {
                    alert("Error: Ensure the bot is an admin in the group!");
                }
            } catch (e) {
                alert("Connection failed. Try again.");
            }
        };
    </script>
</body>
</html>
